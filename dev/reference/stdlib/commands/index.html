
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../algorithms/">
      
      
        <link rel="next" href="../experiments/">
      
      
      <link rel="icon" href="../../../None">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Commands - Delphyne</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#commands" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Delphyne" class="md-header__button md-logo" aria-label="Delphyne" data-md-component="logo">
      
  <img src="../../../assets/logos/white/mini.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Delphyne
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Commands
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Delphyne" class="md-nav__button md-logo" aria-label="Delphyne" data-md-component="logo">
      
  <img src="../../../assets/logos/white/mini.png" alt="logo">

    </a>
    Delphyne
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Manual
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Strategy Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Policy Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/demos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Demonstration Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VSCode Extension
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how-to-guides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How-To Guides
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Strategy Language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Strategy Language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/trees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trees and Spaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Strategies and Reification
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Queries and Chats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/traces/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    References and Traces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Miscellaneous
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Policy Language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Policy Language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Definitions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/streams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search Streams
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Demonstration Language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Demonstration Language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../demos/definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Definitions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../demos/interpreter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interpreter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Standard Library
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Standard Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Queries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../streams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../effects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Effects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Algorithms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tasks-and-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks and Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasks and Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.CommandExecutionContext" class="md-nav__link">
    <span class="md-ellipsis">
      CommandExecutionContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CommandExecutionContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.CommandExecutionContext.base" class="md-nav__link">
    <span class="md-ellipsis">
      base
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.CommandExecutionContext.with_root" class="md-nav__link">
    <span class="md-ellipsis">
      with_root
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.tasks.DEFAULT_STRATEGY_DIRS" class="md-nav__link">
    <span class="md-ellipsis">
      DEFAULT_STRATEGY_DIRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.tasks.DEFAULT_PROMPTS_DIRS" class="md-nav__link">
    <span class="md-ellipsis">
      DEFAULT_PROMPTS_DIRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.tasks.DEFAULT_DATA_DIRS" class="md-nav__link">
    <span class="md-ellipsis">
      DEFAULT_DATA_DIRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.TaskContext" class="md-nav__link">
    <span class="md-ellipsis">
      TaskContext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.run_command" class="md-nav__link">
    <span class="md-ellipsis">
      run_command
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standard Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.commands.run_strategy.run_strategy" class="md-nav__link">
    <span class="md-ellipsis">
      run_strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.commands.run_strategy.RunStrategyArgs" class="md-nav__link">
    <span class="md-ellipsis">
      RunStrategyArgs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.commands.answer_query.answer_query" class="md-nav__link">
    <span class="md-ellipsis">
      answer_query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.commands.answer_query.AnswerQueryArgs" class="md-nav__link">
    <span class="md-ellipsis">
      AnswerQueryArgs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Experiments
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Delphyne CLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tasks-and-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks and Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasks and Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.CommandExecutionContext" class="md-nav__link">
    <span class="md-ellipsis">
      CommandExecutionContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CommandExecutionContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.CommandExecutionContext.base" class="md-nav__link">
    <span class="md-ellipsis">
      base
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.CommandExecutionContext.with_root" class="md-nav__link">
    <span class="md-ellipsis">
      with_root
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.tasks.DEFAULT_STRATEGY_DIRS" class="md-nav__link">
    <span class="md-ellipsis">
      DEFAULT_STRATEGY_DIRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.tasks.DEFAULT_PROMPTS_DIRS" class="md-nav__link">
    <span class="md-ellipsis">
      DEFAULT_PROMPTS_DIRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.tasks.DEFAULT_DATA_DIRS" class="md-nav__link">
    <span class="md-ellipsis">
      DEFAULT_DATA_DIRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.TaskContext" class="md-nav__link">
    <span class="md-ellipsis">
      TaskContext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.run_command" class="md-nav__link">
    <span class="md-ellipsis">
      run_command
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standard Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.commands.run_strategy.run_strategy" class="md-nav__link">
    <span class="md-ellipsis">
      run_strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.commands.run_strategy.RunStrategyArgs" class="md-nav__link">
    <span class="md-ellipsis">
      RunStrategyArgs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.commands.answer_query.answer_query" class="md-nav__link">
    <span class="md-ellipsis">
      answer_query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.stdlib.commands.answer_query.AnswerQueryArgs" class="md-nav__link">
    <span class="md-ellipsis">
      AnswerQueryArgs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="commands">Commands</h1>
<h2 id="tasks-and-commands">Tasks and Commands</h2>


<div class="doc doc-object doc-class">



<h3 id="delphyne.CommandExecutionContext" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">CommandExecutionContext</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Context information available to all commands.</p>
<p>This information is usually specified in <code>delphyne.yaml</code> project
files, and also locally in <code>@config</code> blocks. All values have
defaults. All paths are usually expressed relative to a single
workspace root directory, and can be made absolute using the
<code>with_root</code> method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>strategy_dirs</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sequence of directories in which strategy
modules can be found.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DEFAULT_STRATEGY_DIRS


  
      module-attribute
   (delphyne.stdlib.tasks.DEFAULT_STRATEGY_DIRS)" href="#delphyne.stdlib.tasks.DEFAULT_STRATEGY_DIRS">DEFAULT_STRATEGY_DIRS</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>modules</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sequence of module in which Python object identifiers
can be resolved (module names can feature <code>.</code>).</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>demo_files</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sequence of demonstration files (either including or
excluding the <code>*.demo.yaml</code> extension).</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prompt_dirs</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sequence of directories in which to look for
prompt templates.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DEFAULT_PROMPTS_DIRS


  
      module-attribute
   (delphyne.stdlib.tasks.DEFAULT_PROMPTS_DIRS)" href="#delphyne.stdlib.tasks.DEFAULT_PROMPTS_DIRS">DEFAULT_PROMPTS_DIRS</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data_dirs</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sequence of directories in which to look for data
files.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DEFAULT_DATA_DIRS


  
      module-attribute
   (delphyne.stdlib.tasks.DEFAULT_DATA_DIRS)" href="#delphyne.stdlib.tasks.DEFAULT_DATA_DIRS">DEFAULT_DATA_DIRS</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cache_root</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The directory in which to store all request cache
subdirectories.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>result_refresh_period</code>
            </td>
            <td>
                  <code><span title="float">float</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The period in seconds at which the
current result is computed and communicated to the UI (e.g.,
the period at which the current trace is exported when
running oracular programs). If <code>None</code>, the result is never
refreshed (until the command terminates).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>status_refresh_period</code>
            </td>
            <td>
                  <code><span title="float">float</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The period in seconds at which the
current status message is communicated to the UI. If <code>None</code>,
the status is never refreshed (until the command
terminates).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <div class="admonition info">
<p class="admonition-title">Local conguration blocks</p>
<p>Demonstration and command files can override some configuration
information from the <code>delphyne.yaml</code> file by featuring a comment
block such as:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># @config</span>
<span class="c1"># modules: [&quot;my_strategy_module&quot;]</span>
<span class="c1"># demo_files: [&quot;demo.yaml&quot;]</span>
<span class="c1"># @end</span>
</code></pre></div>
<p>The comment block must be placed at the start of the file,
possibly after other comments.</p>
</div>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/stdlib/tasks.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CommandExecutionContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Context information available to all commands.</span>

<span class="sd">    This information is usually specified in `delphyne.yaml` project</span>
<span class="sd">    files, and also locally in `@config` blocks. All values have</span>
<span class="sd">    defaults. All paths are usually expressed relative to a single</span>
<span class="sd">    workspace root directory, and can be made absolute using the</span>
<span class="sd">    `with_root` method.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        strategy_dirs: A sequence of directories in which strategy</span>
<span class="sd">            modules can be found.</span>
<span class="sd">        modules: A sequence of module in which Python object identifiers</span>
<span class="sd">            can be resolved (module names can feature `.`).</span>
<span class="sd">        demo_files: A sequence of demonstration files (either including or</span>
<span class="sd">            excluding the `*.demo.yaml` extension).</span>
<span class="sd">        prompt_dirs: A sequence of directories in which to look for</span>
<span class="sd">            prompt templates.</span>
<span class="sd">        data_dirs: A sequence of directories in which to look for data</span>
<span class="sd">            files.</span>
<span class="sd">        cache_root: The directory in which to store all request cache</span>
<span class="sd">            subdirectories.</span>
<span class="sd">        result_refresh_period: The period in seconds at which the</span>
<span class="sd">            current result is computed and communicated to the UI (e.g.,</span>
<span class="sd">            the period at which the current trace is exported when</span>
<span class="sd">            running oracular programs). If `None`, the result is never</span>
<span class="sd">            refreshed (until the command terminates).</span>
<span class="sd">        status_refresh_period: The period in seconds at which the</span>
<span class="sd">            current status message is communicated to the UI. If `None`,</span>
<span class="sd">            the status is never refreshed (until the command</span>
<span class="sd">            terminates).</span>

<span class="sd">    !!! info &quot;Local conguration blocks&quot;</span>
<span class="sd">        Demonstration and command files can override some configuration</span>
<span class="sd">        information from the `delphyne.yaml` file by featuring a comment</span>
<span class="sd">        block such as:</span>

<span class="sd">        ```yaml</span>
<span class="sd">        # @config</span>
<span class="sd">        # modules: [&quot;my_strategy_module&quot;]</span>
<span class="sd">        # demo_files: [&quot;demo.yaml&quot;]</span>
<span class="sd">        # @end</span>
<span class="sd">        ```</span>

<span class="sd">        The comment block must be placed at the start of the file,</span>
<span class="sd">        possibly after other comments.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">strategy_dirs</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_STRATEGY_DIRS</span>
    <span class="n">modules</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">demo_files</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">prompt_dirs</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_PROMPTS_DIRS</span>
    <span class="n">data_dirs</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_DATA_DIRS</span>
    <span class="n">cache_root</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">result_refresh_period</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">status_refresh_period</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">base</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">analysis</span><span class="o">.</span><span class="n">DemoExecutionContext</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obtain a demonstration execution context.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">analysis</span><span class="o">.</span><span class="n">DemoExecutionContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strategy_dirs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">with_root</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CommandExecutionContext&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make all paths absolute given a path to the workspace root.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CommandExecutionContext</span><span class="p">(</span>
            <span class="n">modules</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">,</span>
            <span class="n">demo_files</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">demo_files</span><span class="p">],</span>
            <span class="n">strategy_dirs</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy_dirs</span><span class="p">],</span>
            <span class="n">prompt_dirs</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">prompt_dirs</span><span class="p">],</span>
            <span class="n">data_dirs</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_dirs</span><span class="p">],</span>
            <span class="n">cache_root</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_root</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_root</span><span class="p">,</span>
            <span class="n">result_refresh_period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">result_refresh_period</span><span class="p">,</span>
            <span class="n">status_refresh_period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">status_refresh_period</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="delphyne.CommandExecutionContext.base" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">base</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">base</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="DemoExecutionContext


  
      dataclass
   (delphyne.analysis.DemoExecutionContext)" href="../../demos/interpreter/#delphyne.DemoExecutionContext">DemoExecutionContext</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Obtain a demonstration execution context.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h4 id="delphyne.CommandExecutionContext.with_root" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">with_root</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">with_root</span><span class="p">(</span><span class="n">root</span><span class="p">:</span> <span class="n"><span title="pathlib.Path">Path</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="CommandExecutionContext


  
      dataclass
   (delphyne.stdlib.tasks.CommandExecutionContext)" href="#delphyne.CommandExecutionContext">CommandExecutionContext</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Make all paths absolute given a path to the workspace root.</p>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/stdlib/tasks.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">with_root</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CommandExecutionContext&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make all paths absolute given a path to the workspace root.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CommandExecutionContext</span><span class="p">(</span>
        <span class="n">modules</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">,</span>
        <span class="n">demo_files</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">demo_files</span><span class="p">],</span>
        <span class="n">strategy_dirs</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy_dirs</span><span class="p">],</span>
        <span class="n">prompt_dirs</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">prompt_dirs</span><span class="p">],</span>
        <span class="n">data_dirs</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_dirs</span><span class="p">],</span>
        <span class="n">cache_root</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_root</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_root</span><span class="p">,</span>
        <span class="n">result_refresh_period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">result_refresh_period</span><span class="p">,</span>
        <span class="n">status_refresh_period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">status_refresh_period</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.stdlib.tasks.DEFAULT_STRATEGY_DIRS" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_STRATEGY_DIRS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">DEFAULT_STRATEGY_DIRS</span> <span class="o">=</span> <span class="p">(</span><span class="n"><span title="pathlib.Path">Path</span></span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">),)</span>
</code></pre></div>

    <div class="doc doc-contents first">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.stdlib.tasks.DEFAULT_PROMPTS_DIRS" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_PROMPTS_DIRS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">DEFAULT_PROMPTS_DIRS</span> <span class="o">=</span> <span class="p">(</span><span class="n"><span title="pathlib.Path">Path</span></span><span class="p">(</span><span class="s1">&#39;prompts&#39;</span><span class="p">),)</span>
</code></pre></div>

    <div class="doc doc-contents first">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.stdlib.tasks.DEFAULT_DATA_DIRS" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_DATA_DIRS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">DEFAULT_DATA_DIRS</span> <span class="o">=</span> <span class="p">(</span><span class="n"><span title="pathlib.Path">Path</span></span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">),)</span>
</code></pre></div>

    <div class="doc doc-contents first">

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.TaskContext" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">TaskContext</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.Protocol">Protocol</span></code></p>


        <p>Context object accessible to all tasks for reporting progress and
intermediate results.</p>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/stdlib/tasks.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TaskContext</span><span class="p">[</span><span class="n">T</span><span class="p">](</span><span class="n">typing</span><span class="o">.</span><span class="n">Protocol</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Context object accessible to all tasks for reporting progress and</span>
<span class="sd">    intermediate results.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># To be called externally</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">interrupt</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>

    <span class="c1"># To be called internally</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">interruption_requested</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> <span class="o">...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">raise_internal_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="delphyne.run_command" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">run_command</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">run_command</span><span class="p">(</span>
    <span class="n">command</span><span class="p">:</span> <span class="n"><span title="delphyne.stdlib.tasks.Command">Command</span></span><span class="p">[</span><span class="n"><span title="delphyne.stdlib.tasks.run_command[A]">A</span></span><span class="p">,</span> <span class="n"><span title="delphyne.stdlib.tasks.run_command[T]">T</span></span><span class="p">],</span>
    <span class="n">args</span><span class="p">:</span> <span class="n"><span title="delphyne.stdlib.tasks.run_command[A]">A</span></span><span class="p">,</span>
    <span class="n">ctx</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="CommandExecutionContext


  
      dataclass
   (delphyne.stdlib.tasks.CommandExecutionContext)" href="#delphyne.CommandExecutionContext">CommandExecutionContext</a></span><span class="p">,</span>
    <span class="n">dump_statuses</span><span class="p">:</span> <span class="n"><span title="pathlib.Path">Path</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dump_result</span><span class="p">:</span> <span class="n"><span title="pathlib.Path">Path</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dump_log</span><span class="p">:</span> <span class="n"><span title="pathlib.Path">Path</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_status</span><span class="p">:</span> <span class="n"><span title="collections.abc.Callable">Callable</span></span><span class="p">[[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">add_header</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">handle_sigint</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="delphyne.stdlib.tasks.CommandResult">CommandResult</span></span><span class="p">[</span><span class="n"><span title="delphyne.stdlib.tasks.run_command[T]">T</span></span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>A simple command runner.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>command</code>
            </td>
            <td>
                  <code><span title="delphyne.stdlib.tasks.Command">Command</span>[<span title="delphyne.stdlib.tasks.run_command[A]">A</span>, <span title="delphyne.stdlib.tasks.run_command[T]">T</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The command to run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code><span title="delphyne.stdlib.tasks.run_command[A]">A</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The arguments to pass to the command.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ctx</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CommandExecutionContext


  
      dataclass
   (delphyne.stdlib.tasks.CommandExecutionContext)" href="#delphyne.CommandExecutionContext">CommandExecutionContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The command execution context.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dump_statuses</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A file in which to dump status messages at
regular intervals.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dump_result</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A file in which to dump intermediate and final
results, whose content is refreshed at regular intervals.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dump_log</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A file in which to dump log messages.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_status</code>
            </td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[<span title="str">str</span>], None] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function to call every time a status message is
issued.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>add_header</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, the dumped result is prefixed with a
header containing the command name and arguments.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>handle_sigint</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, pressing <code>Ctrl+C</code> sends the command
task an interruption request by calling
<code>TaskContext.interrupt</code>, allowing it to gracefully terminate
instead of abruptly interrupting it.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Non-existing directories are created automatically.</p>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/stdlib/tasks.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_command</span><span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">T</span><span class="p">](</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">Command</span><span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">T</span><span class="p">],</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span>
    <span class="n">ctx</span><span class="p">:</span> <span class="n">CommandExecutionContext</span><span class="p">,</span>
    <span class="n">dump_statuses</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dump_result</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dump_log</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_status</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">add_header</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">handle_sigint</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CommandResult</span><span class="p">[</span><span class="n">T</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A simple command runner.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        command: The command to run.</span>
<span class="sd">        args: The arguments to pass to the command.</span>
<span class="sd">        ctx: The command execution context.</span>
<span class="sd">        dump_statuses: A file in which to dump status messages at</span>
<span class="sd">            regular intervals.</span>
<span class="sd">        dump_result: A file in which to dump intermediate and final</span>
<span class="sd">            results, whose content is refreshed at regular intervals.</span>
<span class="sd">        dump_log: A file in which to dump log messages.</span>
<span class="sd">        on_status: A function to call every time a status message is</span>
<span class="sd">            issued.</span>
<span class="sd">        add_header: If `True`, the dumped result is prefixed with a</span>
<span class="sd">            header containing the command name and arguments.</span>
<span class="sd">        handle_sigint: If `True`, pressing `Ctrl+C` sends the command</span>
<span class="sd">            task an interruption request by calling</span>
<span class="sd">            `TaskContext.interrupt`, allowing it to gracefully terminate</span>
<span class="sd">            instead of abruptly interrupting it.</span>

<span class="sd">    Non-existing directories are created automatically.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Handler</span><span class="p">:</span>
        <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">:</span> <span class="n">CommandResult</span><span class="p">[</span><span class="n">T</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">CommandResult</span><span class="p">([],</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">interrupted</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">interrupt</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">interrupted</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">interruption_requested</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">interrupted</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">dump_log</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dump_log</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dump_log</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">message</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">set_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">dump_statuses</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dump_statuses</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dump_statuses</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">message</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">on_status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">on_status</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">set_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="n">CommandResult</span><span class="p">[</span><span class="n">T</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span>
            <span class="k">if</span> <span class="n">dump_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ret_ty</span> <span class="o">=</span> <span class="n">command_optional_result_wrapper_type</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
                <span class="n">ret</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">ty</span><span class="o">.</span><span class="n">pydantic_dump</span><span class="p">(</span><span class="n">ret_ty</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">add_header</span><span class="p">:</span>
                    <span class="n">args_type</span> <span class="o">=</span> <span class="n">command_args_type</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
                    <span class="n">ret</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command_name</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
                        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">ty</span><span class="o">.</span><span class="n">pydantic_dump</span><span class="p">(</span><span class="n">args_type</span><span class="p">,</span> <span class="n">args</span><span class="p">),</span>
                        <span class="s2">&quot;outcome&quot;</span><span class="p">:</span> <span class="n">ret</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dump_result</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dump_result</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">ret_yaml</span> <span class="o">=</span> <span class="n">pretty_yaml</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;# delphyne-command</span><span class="se">\n\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">ret_yaml</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">raise_internal_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Internal error: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">CommandResult</span><span class="p">([</span><span class="n">error</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">handler</span> <span class="o">=</span> <span class="n">Handler</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">handle_sigint</span><span class="p">:</span>
        <span class="n">command</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">watch_sigint</span><span class="p">(</span>
            <span class="n">task</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">command</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">args</span><span class="p">),</span>
            <span class="n">on_sigint</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">handler</span><span class="o">.</span><span class="n">interrupt</span><span class="p">(),</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">handler</span><span class="o">.</span><span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h2 id="standard-commands">Standard Commands</h2>


<div class="doc doc-object doc-function">


<h3 id="delphyne.stdlib.commands.run_strategy.run_strategy" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">run_strategy</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">run_strategy</span><span class="p">(</span>
    <span class="n">task</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="TaskContext (delphyne.stdlib.tasks.TaskContext)" href="#delphyne.TaskContext">TaskContext</a></span><span class="p">[</span><span class="n"><span title="delphyne.stdlib.tasks.CommandResult">CommandResult</span></span><span class="p">[</span><span class="n"><span title="delphyne.stdlib.commands.run_strategy.RunStrategyResponse">RunStrategyResponse</span></span><span class="p">]],</span>
    <span class="n">exe</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="CommandExecutionContext


  
      dataclass
   (delphyne.stdlib.tasks.CommandExecutionContext)" href="#delphyne.CommandExecutionContext">CommandExecutionContext</a></span><span class="p">,</span>
    <span class="n">args</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="RunStrategyArgs


  
      dataclass
   (delphyne.stdlib.commands.run_strategy.RunStrategyArgs)" href="#delphyne.stdlib.commands.run_strategy.RunStrategyArgs">RunStrategyArgs</a></span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Command for running an oracular program from a serialized
specification.</p>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/stdlib/commands/run_strategy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_strategy</span><span class="p">(</span>
    <span class="n">task</span><span class="p">:</span> <span class="n">ta</span><span class="o">.</span><span class="n">TaskContext</span><span class="p">[</span><span class="n">ta</span><span class="o">.</span><span class="n">CommandResult</span><span class="p">[</span><span class="n">RunStrategyResponse</span><span class="p">]],</span>
    <span class="n">exe</span><span class="p">:</span> <span class="n">ta</span><span class="o">.</span><span class="n">CommandExecutionContext</span><span class="p">,</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">RunStrategyArgs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Command for running an oracular program from a serialized</span>
<span class="sd">    specification.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">loader</span> <span class="o">=</span> <span class="n">analysis</span><span class="o">.</span><span class="n">ObjectLoader</span><span class="p">(</span><span class="n">exe</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
    <span class="n">strategy</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load_strategy_instance</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">strategy</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load_and_call_function</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">policy</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">policy_args</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">policy</span><span class="p">,</span> <span class="n">dp</span><span class="o">.</span><span class="n">AbstractPolicy</span><span class="p">)</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">pol</span><span class="o">.</span><span class="n">Policy</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">policy</span><span class="p">)</span>
    <span class="n">run_loaded_strategy</span><span class="p">(</span>
        <span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">,</span>
        <span class="n">exe</span><span class="o">=</span><span class="n">exe</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="n">RunLoadedStrategyArgs</span><span class="p">(</span>
            <span class="n">strategy</span><span class="o">=</span><span class="n">strategy</span><span class="p">,</span>
            <span class="n">policy</span><span class="o">=</span><span class="n">policy</span><span class="p">,</span>
            <span class="n">num_generated</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">num_generated</span><span class="p">,</span>
            <span class="n">budget</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">budget</span><span class="p">,</span>
            <span class="n">cache_file</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">cache_file</span><span class="p">,</span>
            <span class="n">cache_mode</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">cache_mode</span><span class="p">,</span>
            <span class="n">log_level</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">log_level</span><span class="p">,</span>
            <span class="n">export_raw_trace</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">export_raw_trace</span><span class="p">,</span>
            <span class="n">export_log</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">export_log</span><span class="p">,</span>
            <span class="n">export_browsable_trace</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">export_browsable_trace</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.stdlib.commands.run_strategy.RunStrategyArgs" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">RunStrategyArgs</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Arguments for the <code>run_strategy</code> command that runs an oracular
program.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.strategy">strategy</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the strategy to run.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.args">args</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="object">object</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arguments to pass to the strategy constructor.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.policy">policy</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the policy to use.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.policy_args">policy_args</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="object">object</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arguments to pass to the policy constructor.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.num_generated">num_generated</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of success values to generate.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.budget">budget</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Budget limit (infinite for unspecified metrics).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.cache_file">cache_file</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File within the global cache directory to use for
request caching, or <code>None</code> to disable caching.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.cache_mode">cache_mode</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CacheMode (delphyne.utils.caching.CacheMode)" href="../queries/#delphyne.utils.caching.CacheMode">CacheMode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cache mode to use.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.log_level">log_level</span></code></td>
            <td>
                  <code><span title="delphyne.core.LogLevel">LogLevel</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum log level to record. Messages with a lower
level will be ignored.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.export_raw_trace">export_raw_trace</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to export the raw execution trace.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.export_log">export_log</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to export the log messages.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.run_strategy.RunStrategyArgs.export_browsable_trace">export_browsable_trace</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to export a browsable trace,
which can be visualized in the VSCode extension (see
<a class="autorefs autorefs-internal" title="Trace


  
      dataclass
  " href="../../demos/interpreter/#delphyne.analysis.feedback.Trace">delphyne.analysis.feedback.Trace</a>).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/stdlib/commands/run_strategy.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">RunStrategyArgs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Arguments for the `run_strategy` command that runs an oracular</span>
<span class="sd">    program.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        strategy: Name of the strategy to run.</span>
<span class="sd">        args: Arguments to pass to the strategy constructor.</span>
<span class="sd">        policy: Name of the policy to use.</span>
<span class="sd">        policy_args: Arguments to pass to the policy constructor.</span>
<span class="sd">        num_generated: Number of success values to generate.</span>
<span class="sd">        budget: Budget limit (infinite for unspecified metrics).</span>
<span class="sd">        cache_file: File within the global cache directory to use for</span>
<span class="sd">            request caching, or `None` to disable caching.</span>
<span class="sd">        cache_mode: Cache mode to use.</span>
<span class="sd">        log_level: Minimum log level to record. Messages with a lower</span>
<span class="sd">            level will be ignored.</span>
<span class="sd">        export_raw_trace: Whether to export the raw execution trace.</span>
<span class="sd">        export_log: Whether to export the log messages.</span>
<span class="sd">        export_browsable_trace: Whether to export a browsable trace,</span>
<span class="sd">            which can be visualized in the VSCode extension (see</span>
<span class="sd">            [delphyne.analysis.feedback.Trace][]).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">strategy</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span>
    <span class="n">policy</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">policy_args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span>
    <span class="n">budget</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
    <span class="n">num_generated</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">cache_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">cache_mode</span><span class="p">:</span> <span class="n">ca</span><span class="o">.</span><span class="n">CacheMode</span> <span class="o">=</span> <span class="s2">&quot;read_write&quot;</span>
    <span class="n">log_level</span><span class="p">:</span> <span class="n">dp</span><span class="o">.</span><span class="n">LogLevel</span> <span class="o">=</span> <span class="s2">&quot;info&quot;</span>
    <span class="n">export_raw_trace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">export_log</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">export_browsable_trace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="delphyne.stdlib.commands.answer_query.answer_query" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">answer_query</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">answer_query</span><span class="p">(</span>
    <span class="n">task</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="TaskContext (delphyne.stdlib.tasks.TaskContext)" href="#delphyne.TaskContext">TaskContext</a></span><span class="p">[</span><span class="n"><span title="delphyne.stdlib.tasks.CommandResult">CommandResult</span></span><span class="p">[</span><span class="n"><span title="delphyne.stdlib.commands.answer_query.AnswerQueryResponse">AnswerQueryResponse</span></span><span class="p">]],</span>
    <span class="n">exe</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="CommandExecutionContext


  
      dataclass
   (delphyne.stdlib.tasks.CommandExecutionContext)" href="#delphyne.CommandExecutionContext">CommandExecutionContext</a></span><span class="p">,</span>
    <span class="n">cmd</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="AnswerQueryArgs


  
      dataclass
   (delphyne.stdlib.commands.answer_query.AnswerQueryArgs)" href="#delphyne.stdlib.commands.answer_query.AnswerQueryArgs">AnswerQueryArgs</a></span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>A command for answering a query. See <code>AnswerQueryArgs</code>.</p>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/stdlib/commands/answer_query.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">answer_query</span><span class="p">(</span>
    <span class="n">task</span><span class="p">:</span> <span class="n">ta</span><span class="o">.</span><span class="n">TaskContext</span><span class="p">[</span><span class="n">ta</span><span class="o">.</span><span class="n">CommandResult</span><span class="p">[</span><span class="n">AnswerQueryResponse</span><span class="p">]],</span>
    <span class="n">exe</span><span class="p">:</span> <span class="n">ta</span><span class="o">.</span><span class="n">CommandExecutionContext</span><span class="p">,</span>
    <span class="n">cmd</span><span class="p">:</span> <span class="n">AnswerQueryArgs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A command for answering a query. See `AnswerQueryArgs`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">with_cache_spec</span><span class="p">(</span>
        <span class="n">partial</span><span class="p">(</span><span class="n">answer_query_with_cache</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">exe</span><span class="p">,</span> <span class="n">cmd</span><span class="p">),</span>
        <span class="n">cache_root</span><span class="o">=</span><span class="n">exe</span><span class="o">.</span><span class="n">cache_root</span><span class="p">,</span>
        <span class="n">cache_file</span><span class="o">=</span><span class="n">cmd</span><span class="o">.</span><span class="n">cache_file</span><span class="p">,</span>
        <span class="n">cache_mode</span><span class="o">=</span><span class="n">cmd</span><span class="o">.</span><span class="n">cache_mode</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.stdlib.commands.answer_query.AnswerQueryArgs" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">AnswerQueryArgs</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Arguments for the <code>answer_query</code> command.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.query">query</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the query to answer.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.args">args</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="object">object</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arguments for the query, as a dictionary of JSON values.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.prompt_only">prompt_only</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, a dummy model is used that always
errors, so that only the prompt can be seen in the logs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.model">model</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the model to use for answering the query.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.num_answers">num_answers</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of answers to generate.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.iterative_mode">iterative_mode</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to answer the query in iterative mode
(see <a class="autorefs autorefs-internal" title="few_shot" href="../queries/#delphyne.few_shot"><code>few_shot</code></a> for details).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.budget">budget</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="float">float</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Budget limit (infinite for unspecified metrics).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.cache_file">cache_file</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File within the global cache directory to use for
request caching, or <code>None</code> to disable caching.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.cache_mode">cache_mode</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CacheMode (delphyne.utils.caching.CacheMode)" href="../queries/#delphyne.utils.caching.CacheMode">CacheMode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cache mode to use.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.stdlib.commands.answer_query.AnswerQueryArgs.log_level">log_level</span></code></td>
            <td>
                  <code><span title="delphyne.core.LogLevel">LogLevel</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum log level to record. Messages with a lower
level will be ignored.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/stdlib/commands/answer_query.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AnswerQueryArgs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Arguments for the `answer_query` command.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        query: The name of the query to answer.</span>
<span class="sd">        args: Arguments for the query, as a dictionary of JSON values.</span>
<span class="sd">        prompt_only: If `True`, a dummy model is used that always</span>
<span class="sd">            errors, so that only the prompt can be seen in the logs.</span>
<span class="sd">        model: The name of the model to use for answering the query.</span>
<span class="sd">        num_answers: The number of answers to generate.</span>
<span class="sd">        iterative_mode: Whether to answer the query in iterative mode</span>
<span class="sd">            (see `few_shot` for details).</span>
<span class="sd">        budget: Budget limit (infinite for unspecified metrics).</span>
<span class="sd">        cache_file: File within the global cache directory to use for</span>
<span class="sd">            request caching, or `None` to disable caching.</span>
<span class="sd">        cache_mode: Cache mode to use.</span>
<span class="sd">        log_level: Minimum log level to record. Messages with a lower</span>
<span class="sd">            level will be ignored.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">query</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span>
    <span class="n">prompt_only</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">num_answers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">iterative_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">budget</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">cache_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">cache_mode</span><span class="p">:</span> <span class="n">ca</span><span class="o">.</span><span class="n">CacheMode</span> <span class="o">=</span> <span class="s2">&quot;read_write&quot;</span>
    <span class="n">log_level</span><span class="p">:</span> <span class="n">dp</span><span class="o">.</span><span class="n">LogLevel</span> <span class="o">=</span> <span class="s2">&quot;info&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../../javascript/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>