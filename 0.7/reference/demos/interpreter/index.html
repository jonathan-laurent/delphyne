
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../definitions/">
      
      
        <link rel="next" href="../../stdlib/basic/">
      
      
      <link rel="icon" href="../../../None">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Interpreter - Delphyne</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#evaluating-demonstrations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Delphyne" class="md-header__button md-logo" aria-label="Delphyne" data-md-component="logo">
      
  <img src="../../../assets/logos/white/mini.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Delphyne
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Interpreter
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Delphyne" class="md-nav__button md-logo" aria-label="Delphyne" data-md-component="logo">
      
  <img src="../../../assets/logos/white/mini.png" alt="logo">

    </a>
    Delphyne
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Manual
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Strategies and Trees
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Policies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/demos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Demonstrations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual/extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VSCode Extension
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how-to-guides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How-To Guides
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Strategy Language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Strategy Language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/trees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trees and Spaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Strategies and Reification
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Queries and Chats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/traces/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    References and Traces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Miscellaneous
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Policy Language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Policy Language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Definitions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/streams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search Streams
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Demonstration Language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Demonstration Language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Definitions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Interpreter
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Interpreter
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#evaluation-feedback" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation Feedback
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation Feedback">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.DemoFeedback" class="md-nav__link">
    <span class="md-ellipsis">
      DemoFeedback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.QueryDemoFeedback" class="md-nav__link">
    <span class="md-ellipsis">
      QueryDemoFeedback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.StrategyDemoFeedback" class="md-nav__link">
    <span class="md-ellipsis">
      StrategyDemoFeedback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.TestFeedback" class="md-nav__link">
    <span class="md-ellipsis">
      TestFeedback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.ImplicitAnswer" class="md-nav__link">
    <span class="md-ellipsis">
      ImplicitAnswer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.DemoAnswerId" class="md-nav__link">
    <span class="md-ellipsis">
      DemoAnswerId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.DemoQueryId" class="md-nav__link">
    <span class="md-ellipsis">
      DemoQueryId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Diagnostic" class="md-nav__link">
    <span class="md-ellipsis">
      Diagnostic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.DiagnosticType" class="md-nav__link">
    <span class="md-ellipsis">
      DiagnosticType
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#browsable-traces" class="md-nav__link">
    <span class="md-ellipsis">
      Browsable Traces
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Browsable Traces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Trace" class="md-nav__link">
    <span class="md-ellipsis">
      Trace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Node" class="md-nav__link">
    <span class="md-ellipsis">
      Node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.NodeOrigin" class="md-nav__link">
    <span class="md-ellipsis">
      NodeOrigin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Action" class="md-nav__link">
    <span class="md-ellipsis">
      Action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.NodeProperty" class="md-nav__link">
    <span class="md-ellipsis">
      NodeProperty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Data" class="md-nav__link">
    <span class="md-ellipsis">
      Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.NestedTree" class="md-nav__link">
    <span class="md-ellipsis">
      NestedTree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Query" class="md-nav__link">
    <span class="md-ellipsis">
      Query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Answer" class="md-nav__link">
    <span class="md-ellipsis">
      Answer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.ValueRepr" class="md-nav__link">
    <span class="md-ellipsis">
      ValueRepr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.TraceAnswerId" class="md-nav__link">
    <span class="md-ellipsis">
      TraceAnswerId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.TraceActionId" class="md-nav__link">
    <span class="md-ellipsis">
      TraceActionId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.TraceNodePropertyId" class="md-nav__link">
    <span class="md-ellipsis">
      TraceNodePropertyId
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#demonstration-interpreter" class="md-nav__link">
    <span class="md-ellipsis">
      Demonstration Interpreter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Demonstration Interpreter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.demo_interpreter.evaluate_demo" class="md-nav__link">
    <span class="md-ellipsis">
      evaluate_demo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.DemoExecutionContext" class="md-nav__link">
    <span class="md-ellipsis">
      DemoExecutionContext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader" class="md-nav__link">
    <span class="md-ellipsis">
      ObjectLoader
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ObjectLoader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.find_object" class="md-nav__link">
    <span class="md-ellipsis">
      find_object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.load_and_call_function" class="md-nav__link">
    <span class="md-ellipsis">
      load_and_call_function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.load_strategy_instance" class="md-nav__link">
    <span class="md-ellipsis">
      load_strategy_instance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.load_query" class="md-nav__link">
    <span class="md-ellipsis">
      load_query
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Standard Library
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Standard Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stdlib/basic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stdlib/queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Queries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stdlib/streams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stdlib/environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stdlib/effects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Effects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stdlib/algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Algorithms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stdlib/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stdlib/experiments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Experiments
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Delphyne CLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#evaluation-feedback" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation Feedback
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation Feedback">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.DemoFeedback" class="md-nav__link">
    <span class="md-ellipsis">
      DemoFeedback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.QueryDemoFeedback" class="md-nav__link">
    <span class="md-ellipsis">
      QueryDemoFeedback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.StrategyDemoFeedback" class="md-nav__link">
    <span class="md-ellipsis">
      StrategyDemoFeedback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.TestFeedback" class="md-nav__link">
    <span class="md-ellipsis">
      TestFeedback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.ImplicitAnswer" class="md-nav__link">
    <span class="md-ellipsis">
      ImplicitAnswer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.DemoAnswerId" class="md-nav__link">
    <span class="md-ellipsis">
      DemoAnswerId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.DemoQueryId" class="md-nav__link">
    <span class="md-ellipsis">
      DemoQueryId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Diagnostic" class="md-nav__link">
    <span class="md-ellipsis">
      Diagnostic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.DiagnosticType" class="md-nav__link">
    <span class="md-ellipsis">
      DiagnosticType
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#browsable-traces" class="md-nav__link">
    <span class="md-ellipsis">
      Browsable Traces
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Browsable Traces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Trace" class="md-nav__link">
    <span class="md-ellipsis">
      Trace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Node" class="md-nav__link">
    <span class="md-ellipsis">
      Node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.NodeOrigin" class="md-nav__link">
    <span class="md-ellipsis">
      NodeOrigin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Action" class="md-nav__link">
    <span class="md-ellipsis">
      Action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.NodeProperty" class="md-nav__link">
    <span class="md-ellipsis">
      NodeProperty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Data" class="md-nav__link">
    <span class="md-ellipsis">
      Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.NestedTree" class="md-nav__link">
    <span class="md-ellipsis">
      NestedTree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Query" class="md-nav__link">
    <span class="md-ellipsis">
      Query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Answer" class="md-nav__link">
    <span class="md-ellipsis">
      Answer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.Reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.ValueRepr" class="md-nav__link">
    <span class="md-ellipsis">
      ValueRepr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.TraceAnswerId" class="md-nav__link">
    <span class="md-ellipsis">
      TraceAnswerId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.TraceActionId" class="md-nav__link">
    <span class="md-ellipsis">
      TraceActionId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.feedback.TraceNodePropertyId" class="md-nav__link">
    <span class="md-ellipsis">
      TraceNodePropertyId
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#demonstration-interpreter" class="md-nav__link">
    <span class="md-ellipsis">
      Demonstration Interpreter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Demonstration Interpreter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.analysis.demo_interpreter.evaluate_demo" class="md-nav__link">
    <span class="md-ellipsis">
      evaluate_demo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.DemoExecutionContext" class="md-nav__link">
    <span class="md-ellipsis">
      DemoExecutionContext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader" class="md-nav__link">
    <span class="md-ellipsis">
      ObjectLoader
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ObjectLoader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.find_object" class="md-nav__link">
    <span class="md-ellipsis">
      find_object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.load_and_call_function" class="md-nav__link">
    <span class="md-ellipsis">
      load_and_call_function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.load_strategy_instance" class="md-nav__link">
    <span class="md-ellipsis">
      load_strategy_instance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delphyne.ObjectLoader.load_query" class="md-nav__link">
    <span class="md-ellipsis">
      load_query
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="evaluating-demonstrations">Evaluating Demonstrations</h1>
<!-- Covers demos.feedback, analysis.demo_interpreter, analysis.browsable_traces -->

<h2 id="evaluation-feedback">Evaluation Feedback</h2>


<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.DemoFeedback" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DemoFeedback</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">DemoFeedback</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="StrategyDemoFeedback


  
      dataclass
   (delphyne.analysis.feedback.StrategyDemoFeedback)" href="#delphyne.analysis.feedback.StrategyDemoFeedback">StrategyDemoFeedback</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="QueryDemoFeedback


  
      dataclass
   (delphyne.analysis.feedback.QueryDemoFeedback)" href="#delphyne.analysis.feedback.QueryDemoFeedback">QueryDemoFeedback</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Feedback sent by the server for each demonstration in a file.</p>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.QueryDemoFeedback" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">QueryDemoFeedback</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Feedback sent by the server for a standalone query demonstration.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.QueryDemoFeedback.kind">kind</span></code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;query&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Always "query".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.QueryDemoFeedback.diagnostics">diagnostics</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="Diagnostic (delphyne.analysis.feedback.Diagnostic)" href="#delphyne.analysis.feedback.Diagnostic">Diagnostic</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Global diagnostics.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.QueryDemoFeedback.answer_diagnostics">answer_diagnostics</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <a class="autorefs autorefs-internal" title="Diagnostic (delphyne.analysis.feedback.Diagnostic)" href="#delphyne.analysis.feedback.Diagnostic">Diagnostic</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Diagnostics attached to specific answers.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">QueryDemoFeedback</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Feedback sent by the server for a standalone query demonstration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        kind: Always &quot;query&quot;.</span>
<span class="sd">        diagnostics: Global diagnostics.</span>
<span class="sd">        answer_diagnostics: Diagnostics attached to specific answers.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;query&quot;</span><span class="p">]</span>
    <span class="n">diagnostics</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Diagnostic</span><span class="p">]</span>
    <span class="n">answer_diagnostics</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Diagnostic</span><span class="p">]]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.StrategyDemoFeedback" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">StrategyDemoFeedback</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Feedback sent by the server for each strategy demonstration.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.kind">kind</span></code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;strategy&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Always "strategy".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.trace">trace</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Trace


  
      dataclass
   (delphyne.analysis.feedback.Trace)" href="#delphyne.analysis.feedback.Trace">Trace</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The resulting browsable trace, which includes all visited
nodes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.answer_refs">answer_refs</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<a class="autorefs autorefs-internal" title="TraceAnswerId (delphyne.analysis.feedback.TraceAnswerId)" href="#delphyne.analysis.feedback.TraceAnswerId">TraceAnswerId</a>, <a class="autorefs autorefs-internal" title="DemoAnswerId (delphyne.analysis.feedback.DemoAnswerId)" href="#delphyne.analysis.feedback.DemoAnswerId">DemoAnswerId</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A mapping from answer ids featured in the
trace to the position of the corresponding answer in the
demonstration. This mapping may be <strong>partial</strong>. For example,
using value hints (e.g., <code>#flag_value</code>) forces the
demonstration interpreter to create answers on the fly that
are not part of the demonstration.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.saved_nodes">saved_nodes</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="delphyne.analysis.feedback.TraceNodeId">TraceNodeId</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Nodes saved using the <code>save</code> test instruction.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.test_feedback">test_feedback</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="TestFeedback


  
      dataclass
   (delphyne.analysis.feedback.TestFeedback)" href="#delphyne.analysis.feedback.TestFeedback">TestFeedback</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Feedback for each test in the demonstration.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.global_diagnostics">global_diagnostics</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="Diagnostic (delphyne.analysis.feedback.Diagnostic)" href="#delphyne.analysis.feedback.Diagnostic">Diagnostic</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Diagnostics that apply to the whole
demonstration (individual tests have their own diagnostics).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.query_diagnostics">query_diagnostics</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<a class="autorefs autorefs-internal" title="DemoQueryId (delphyne.analysis.feedback.DemoQueryId)" href="#delphyne.analysis.feedback.DemoQueryId">DemoQueryId</a>, <a class="autorefs autorefs-internal" title="Diagnostic (delphyne.analysis.feedback.Diagnostic)" href="#delphyne.analysis.feedback.Diagnostic">Diagnostic</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Diagnostics attached to specific queries.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.answer_diagnostics">answer_diagnostics</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<a class="autorefs autorefs-internal" title="DemoAnswerId (delphyne.analysis.feedback.DemoAnswerId)" href="#delphyne.analysis.feedback.DemoAnswerId">DemoAnswerId</a>, <a class="autorefs autorefs-internal" title="Diagnostic (delphyne.analysis.feedback.Diagnostic)" href="#delphyne.analysis.feedback.Diagnostic">Diagnostic</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Diagnostics attached to specific answers.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.StrategyDemoFeedback.implicit_answers">implicit_answers</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="ImplicitAnswer


  
      dataclass
   (delphyne.analysis.feedback.ImplicitAnswer)" href="#delphyne.analysis.feedback.ImplicitAnswer">ImplicitAnswer</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Implicit answers that were generated on the fly
and that can be explicitly added to the demonstration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">StrategyDemoFeedback</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Feedback sent by the server for each strategy demonstration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        kind: Always &quot;strategy&quot;.</span>
<span class="sd">        trace: The resulting browsable trace, which includes all visited</span>
<span class="sd">            nodes.</span>
<span class="sd">        answer_refs: A mapping from answer ids featured in the</span>
<span class="sd">            trace to the position of the corresponding answer in the</span>
<span class="sd">            demonstration. This mapping may be **partial**. For example,</span>
<span class="sd">            using value hints (e.g., `#flag_value`) forces the</span>
<span class="sd">            demonstration interpreter to create answers on the fly that</span>
<span class="sd">            are not part of the demonstration.</span>
<span class="sd">        saved_nodes: Nodes saved using the `save` test instruction.</span>
<span class="sd">        test_feedback: Feedback for each test in the demonstration.</span>
<span class="sd">        global_diagnostics: Diagnostics that apply to the whole</span>
<span class="sd">            demonstration (individual tests have their own diagnostics).</span>
<span class="sd">        query_diagnostics: Diagnostics attached to specific queries.</span>
<span class="sd">        answer_diagnostics: Diagnostics attached to specific answers.</span>
<span class="sd">        implicit_answers: Implicit answers that were generated on the fly</span>
<span class="sd">            and that can be explicitly added to the demonstration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;strategy&quot;</span><span class="p">]</span>
    <span class="n">trace</span><span class="p">:</span> <span class="n">Trace</span>
    <span class="n">answer_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">TraceAnswerId</span><span class="p">,</span> <span class="n">DemoAnswerId</span><span class="p">]</span>
    <span class="n">saved_nodes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TraceNodeId</span><span class="p">]</span>
    <span class="n">test_feedback</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">TestFeedback</span><span class="p">]</span>
    <span class="n">global_diagnostics</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Diagnostic</span><span class="p">]</span>
    <span class="n">query_diagnostics</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">DemoQueryId</span><span class="p">,</span> <span class="n">Diagnostic</span><span class="p">]]</span>
    <span class="n">answer_diagnostics</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">DemoAnswerId</span><span class="p">,</span> <span class="n">Diagnostic</span><span class="p">]]</span>
    <span class="n">implicit_answers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ImplicitAnswer</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.TestFeedback" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">TestFeedback</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Feedback returned by the demo interpreter for a single test.</p>
<p>The test is considered successful if no diagnostic is a warning or an
error. Most of the time, and even when unsuccessful, a test stops at
a given node, which can be inspected in the UI and which is
indicated in field <code>node_id</code>.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.TestFeedback.diagnostics">diagnostics</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="Diagnostic (delphyne.analysis.feedback.Diagnostic)" href="#delphyne.analysis.feedback.Diagnostic">Diagnostic</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of diagnostics for the test.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.TestFeedback.node_id">node_id</span></code></td>
            <td>
                  <code><span title="delphyne.analysis.feedback.TraceNodeId">TraceNodeId</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier of the node where the test stopped.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TestFeedback</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Feedback returned by the demo interpreter for a single test.</span>

<span class="sd">    The test is considered successful if no diagnostic is a warning or an</span>
<span class="sd">    error. Most of the time, and even when unsuccessful, a test stops at</span>
<span class="sd">    a given node, which can be inspected in the UI and which is</span>
<span class="sd">    indicated in field `node_id`.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        diagnostics: List of diagnostics for the test.</span>
<span class="sd">        node_id: Identifier of the node where the test stopped.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">diagnostics</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Diagnostic</span><span class="p">]</span>
    <span class="n">node_id</span><span class="p">:</span> <span class="n">TraceNodeId</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.ImplicitAnswer" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ImplicitAnswer</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>An implicit answer that is not part of the demonstration but was
generated on the fly.</p>
<p>The VSCode extension then offers to add such answers explicitly in
the demonstration. This is particularly useful for handling
<a class="autorefs autorefs-internal" title="Compute


  
      dataclass
  " href="../../stdlib/effects/#delphyne.stdlib.computations.Compute"><code>Compute</code></a> nodes in demonstrations.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.ImplicitAnswer.query_name">query_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Query name.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.ImplicitAnswer.query_args">query_args</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="object">object</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arguments passed to the query.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.ImplicitAnswer.answer">answer</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The implicit answer value, as a raw string (mode <code>None</code>
is implicitly used for parsing).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ImplicitAnswer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An implicit answer that is not part of the demonstration but was</span>
<span class="sd">    generated on the fly.</span>

<span class="sd">    The VSCode extension then offers to add such answers explicitly in</span>
<span class="sd">    the demonstration. This is particularly useful for handling</span>
<span class="sd">    `Compute` nodes in demonstrations.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        query_name: Query name.</span>
<span class="sd">        query_args: Arguments passed to the query.</span>
<span class="sd">        answer: The implicit answer value, as a raw string (mode `None`</span>
<span class="sd">            is implicitly used for parsing).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO: generalize implicit answers to accept full answers instead</span>
    <span class="c1"># of just a string? In particular, other modes could be used.</span>

    <span class="n">query_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">query_args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span>
    <span class="n">answer</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.DemoAnswerId" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DemoAnswerId</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">DemoAnswerId</span><span class="p">:</span> <span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="int">int</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>A (query_id, answer_index) pair that identifies an answer in a demo.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.DemoQueryId" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DemoQueryId</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">DemoQueryId</span><span class="p">:</span> <span class="n"><span title="int">int</span></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Index of the query in the <em>queries</em> section of a demo.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.Diagnostic" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">Diagnostic</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">Diagnostic</span><span class="p">:</span> <span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="DiagnosticType (delphyne.analysis.feedback.DiagnosticType)" href="#delphyne.analysis.feedback.DiagnosticType">DiagnosticType</a></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>A diagnostic gathers a type (i.e. severity) and a message.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.DiagnosticType" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DiagnosticType</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">DiagnosticType</span><span class="p">:</span> <span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;warning&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Diagnostic type.</p>

    </div>

</div><h2 id="browsable-traces">Browsable Traces</h2>


<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.Trace" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Trace</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>A browsable trace.</p>
<p><a class="autorefs autorefs-internal" title="Trace" href="../../strategies/traces/#delphyne.core.traces.Trace">Raw traces</a> contain all the information
necessary to recompute a trace but are not easily manipulated by
tools. In comparison, <a class="autorefs autorefs-internal" title="Trace


  
      dataclass
  " href="#delphyne.analysis.feedback.Trace">these</a>
offer a more redundant but also more explicit view. This module
provides a way to convert a trace from the former format to the
latter.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Trace.nodes">nodes</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="delphyne.analysis.feedback.TraceNodeId">TraceNodeId</span>, <a class="autorefs autorefs-internal" title="Node


  
      dataclass
   (delphyne.analysis.feedback.Node)" href="#delphyne.analysis.feedback.Node">Node</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A mapping from node ids to their description.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <div class="admonition info">
<p class="admonition-title">Info</p>
<p>A browsable trace features answer identifiers, for which a
meaning must be provided externally. For example, the
demonstration interpreter also produces a mapping from answer
ids to their position in the demonstration file. In addition,
commands like <code>run_strategy</code> return a raw trace
(<code>core.traces.Trace</code>) in addition to the browsable version,
which maps answer ids to their actual content.</p>
</div>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Trace</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A browsable trace.</span>

<span class="sd">    [Raw traces][delphyne.core.traces.Trace] contain all the information</span>
<span class="sd">    necessary to recompute a trace but are not easily manipulated by</span>
<span class="sd">    tools. In comparison, [these][delphyne.analysis.feedback.Trace]</span>
<span class="sd">    offer a more redundant but also more explicit view. This module</span>
<span class="sd">    provides a way to convert a trace from the former format to the</span>
<span class="sd">    latter.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        nodes: A mapping from node ids to their description.</span>

<span class="sd">    !!! info</span>
<span class="sd">        A browsable trace features answer identifiers, for which a</span>
<span class="sd">        meaning must be provided externally. For example, the</span>
<span class="sd">        demonstration interpreter also produces a mapping from answer</span>
<span class="sd">        ids to their position in the demonstration file. In addition,</span>
<span class="sd">        commands like `run_strategy` return a raw trace</span>
<span class="sd">        (`core.traces.Trace`) in addition to the browsable version,</span>
<span class="sd">        which maps answer ids to their actual content.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">nodes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">TraceNodeId</span><span class="p">,</span> <span class="n">Node</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.Node" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Node</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Information about a node.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.kind">kind</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the node type, or <a class="autorefs autorefs-internal" title="Success


  
      dataclass
  " href="../../strategies/trees/#delphyne.Success"><code>Success</code></a>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.success_value">success_value</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueRepr


  
      dataclass
   (delphyne.analysis.feedback.ValueRepr)" href="#delphyne.analysis.feedback.ValueRepr">ValueRepr</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The success value if the node is a success leaf,
or <code>None</code> otherwise.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.summary_message">summary_message</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A short summary message (see the
<code>Node.sumary_message</code> method).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.leaf_node">leaf_node</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the node is a leaf node</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.label">label</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A label describing the node, which can be useful for
writing node selectors (although there is currently no
guarantee that the label constitutes a valid selector
leading to the node). Currently, the label shows all node
tags, separated by "&amp;".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.tags">tags</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of all tags attached to the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.properties">properties</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<a class="autorefs autorefs-internal" title="Reference


  
      dataclass
   (delphyne.analysis.feedback.Reference)" href="#delphyne.analysis.feedback.Reference">Reference</a>, <a class="autorefs autorefs-internal" title="NodeProperty (delphyne.analysis.feedback.NodeProperty)" href="#delphyne.analysis.feedback.NodeProperty">NodeProperty</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of node properties (attached queries, nested
trees, data fields...). Each property is accompanied by a
pretty-printed, local space reference.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.actions">actions</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="Action


  
      dataclass
   (delphyne.analysis.feedback.Action)" href="#delphyne.analysis.feedback.Action">Action</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of explored actions.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Node.origin">origin</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="NodeOrigin (delphyne.analysis.feedback.NodeOrigin)" href="#delphyne.analysis.feedback.NodeOrigin">NodeOrigin</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The origin of the node in the global trace.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Node</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Information about a node.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        kind: Name of the node type, or `Success`.</span>
<span class="sd">        success_value: The success value if the node is a success leaf,</span>
<span class="sd">            or `None` otherwise.</span>
<span class="sd">        summary_message: A short summary message (see the</span>
<span class="sd">            `Node.sumary_message` method).</span>
<span class="sd">        leaf_node: Whether the node is a leaf node</span>
<span class="sd">        label: A label describing the node, which can be useful for</span>
<span class="sd">            writing node selectors (although there is currently no</span>
<span class="sd">            guarantee that the label constitutes a valid selector</span>
<span class="sd">            leading to the node). Currently, the label shows all node</span>
<span class="sd">            tags, separated by &quot;&amp;&quot;.</span>
<span class="sd">        tags: The list of all tags attached to the node.</span>
<span class="sd">        properties: List of node properties (attached queries, nested</span>
<span class="sd">            trees, data fields...). Each property is accompanied by a</span>
<span class="sd">            pretty-printed, local space reference.</span>
<span class="sd">        actions: A list of explored actions.</span>
<span class="sd">        origin: The origin of the node in the global trace.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO: Make node labels into valid selectors that can be used with</span>
    <span class="c1"># the `at` instruction in demonstration tests.</span>

    <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">success_value</span><span class="p">:</span> <span class="n">ValueRepr</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">summary_message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">leaf_node</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">tags</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">properties</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Reference</span><span class="p">,</span> <span class="n">NodeProperty</span><span class="p">]]</span>
    <span class="n">actions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Action</span><span class="p">]</span>
    <span class="n">origin</span><span class="p">:</span> <span class="n">NodeOrigin</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.NodeOrigin" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">NodeOrigin</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">NodeOrigin</span><span class="p">:</span> <span class="p">(</span>
    <span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="s2">&quot;root&quot;</span><span class="p">]</span>
    <span class="o">|</span> <span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="s2">&quot;child&quot;</span><span class="p">],</span> <span class="n"><span title="delphyne.analysis.feedback.TraceNodeId">TraceNodeId</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="TraceActionId (delphyne.analysis.feedback.TraceActionId)" href="#delphyne.analysis.feedback.TraceActionId">TraceActionId</a></span><span class="p">]</span>
    <span class="o">|</span> <span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="s2">&quot;nested&quot;</span><span class="p">],</span> <span class="n"><span title="delphyne.analysis.feedback.TraceNodeId">TraceNodeId</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="TraceNodePropertyId (delphyne.analysis.feedback.TraceNodePropertyId)" href="#delphyne.analysis.feedback.TraceNodePropertyId">TraceNodePropertyId</a></span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Origin of a node.</p>
<p>A node can be the global root, the child of another node, or the root of
a nested tree.</p>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.Action" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Action</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>An action associated with a node.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Action.ref">ref</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Reference


  
      dataclass
   (delphyne.analysis.feedback.Reference)" href="#delphyne.analysis.feedback.Reference">Reference</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pretty-printed local reference for the action.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Action.hints">hints</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the trace results from executing a demonstration,
this provides the list of hints that can be used to recover
the action through navigation. Otherwise, it is <code>None</code>. Note
that this is not identical to <code>ref.with_hints</code>. Both could
plausibly be shown in the UI but the former is more concise.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Action.related_success_nodes">related_success_nodes</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="delphyne.analysis.feedback.TraceNodeId">TraceNodeId</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of related success nodes. A related
success node is a node whose attached value was used in
building the action. Indeed, in the VSCode extension's Path
View, we get a sequence of actions and for each of them the
list of success paths that were involved in building that
action.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Action.related_answers">related_answers</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="TraceAnswerId (delphyne.analysis.feedback.TraceAnswerId)" href="#delphyne.analysis.feedback.TraceAnswerId">TraceAnswerId</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of related answers. A related answer is an
answer to a local query that is used in building the action.
Storing this information is useful to detect useless answers
that are not used in any action.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Action.destination">destination</span></code></td>
            <td>
                  <code><span title="delphyne.analysis.feedback.TraceNodeId">TraceNodeId</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Id of the child node that the action leads to.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Action</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An action associated with a node.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        ref: Pretty-printed local reference for the action.</span>
<span class="sd">        hints: If the trace results from executing a demonstration,</span>
<span class="sd">            this provides the list of hints that can be used to recover</span>
<span class="sd">            the action through navigation. Otherwise, it is `None`. Note</span>
<span class="sd">            that this is not identical to `ref.with_hints`. Both could</span>
<span class="sd">            plausibly be shown in the UI but the former is more concise.</span>
<span class="sd">        related_success_nodes: List of related success nodes. A related</span>
<span class="sd">            success node is a node whose attached value was used in</span>
<span class="sd">            building the action. Indeed, in the VSCode extension&#39;s Path</span>
<span class="sd">            View, we get a sequence of actions and for each of them the</span>
<span class="sd">            list of success paths that were involved in building that</span>
<span class="sd">            action.</span>
<span class="sd">        related_answers: List of related answers. A related answer is an</span>
<span class="sd">            answer to a local query that is used in building the action.</span>
<span class="sd">            Storing this information is useful to detect useless answers</span>
<span class="sd">            that are not used in any action.</span>
<span class="sd">        destination: Id of the child node that the action leads to.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ref</span><span class="p">:</span> <span class="n">Reference</span>
    <span class="n">hints</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">related_success_nodes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">TraceNodeId</span><span class="p">]</span>
    <span class="n">related_answers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">TraceAnswerId</span><span class="p">]</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">ValueRepr</span>
    <span class="n">destination</span><span class="p">:</span> <span class="n">TraceNodeId</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.NodeProperty" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">NodeProperty</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">NodeProperty</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Data


  
      dataclass
   (delphyne.analysis.feedback.Data)" href="#delphyne.analysis.feedback.Data">Data</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="NestedTree


  
      dataclass
   (delphyne.analysis.feedback.NestedTree)" href="#delphyne.analysis.feedback.NestedTree">NestedTree</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="Query


  
      dataclass
   (delphyne.analysis.feedback.Query)" href="#delphyne.analysis.feedback.Query">Query</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Description of a node property (see <code>NodePropertyId</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.Data" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Data</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Generic property that displays some data.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Data.kind">kind</span></code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;data&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Always "data".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Data.content">content</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>string representation of the data content.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Data</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic property that displays some data.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        kind: Always &quot;data&quot;.</span>
<span class="sd">        content: string representation of the data content.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.NestedTree" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">NestedTree</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>A nested tree.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.NestedTree.kind">kind</span></code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;nested&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Always "nested".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.NestedTree.strategy">strategy</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the strategy function that induces the tree.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.NestedTree.args">args</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="ValueRepr


  
      dataclass
   (delphyne.analysis.feedback.ValueRepr)" href="#delphyne.analysis.feedback.ValueRepr">ValueRepr</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arguments passed to the strategy function.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.NestedTree.tags">tags</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tags attached to the space induced by the tree.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.NestedTree.node_id">node_id</span></code></td>
            <td>
                  <code><span title="delphyne.analysis.feedback.TraceNodeId">TraceNodeId</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier of the root node of the nested tree, or
<code>None</code> if it is not in the trace (i.e., the nested tree hasn't
been explored).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">NestedTree</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A nested tree.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        kind: Always &quot;nested&quot;.</span>
<span class="sd">        strategy: Name of the strategy function that induces the tree.</span>
<span class="sd">        args: Arguments passed to the strategy function.</span>
<span class="sd">        tags: Tags attached to the space induced by the tree.</span>
<span class="sd">        node_id: Identifier of the root node of the nested tree, or</span>
<span class="sd">            `None` if it is not in the trace (i.e., the nested tree hasn&#39;t</span>
<span class="sd">            been explored).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;nested&quot;</span><span class="p">]</span>
    <span class="n">strategy</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueRepr</span><span class="p">]</span>
    <span class="n">tags</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">node_id</span><span class="p">:</span> <span class="n">TraceNodeId</span> <span class="o">|</span> <span class="kc">None</span>  <span class="c1"># None if the subtree hasn&#39;t been explored</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.Query" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Query</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Information about a query.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Query.kind">kind</span></code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;query&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Always "query".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Query.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the query.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Query.args">args</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="object">object</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Query arguments, serialized in JSON.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Query.tags">tags</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tags attached to the space induced by the query.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Query.answers">answers</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="Answer


  
      dataclass
   (delphyne.analysis.feedback.Answer)" href="#delphyne.analysis.feedback.Answer">Answer</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>All answers to the query present in the trace.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Query</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Information about a query.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        kind: Always &quot;query&quot;.</span>
<span class="sd">        name: Name of the query.</span>
<span class="sd">        args: Query arguments, serialized in JSON.</span>
<span class="sd">        tags: Tags attached to the space induced by the query.</span>
<span class="sd">        answers: All answers to the query present in the trace.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;query&quot;</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span>
    <span class="n">tags</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">answers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Answer</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.Answer" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Answer</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>An answer to a query.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Answer.id">id</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TraceAnswerId (delphyne.analysis.feedback.TraceAnswerId)" href="#delphyne.analysis.feedback.TraceAnswerId">TraceAnswerId</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique answer identifier.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Answer.value">value</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueRepr


  
      dataclass
   (delphyne.analysis.feedback.ValueRepr)" href="#delphyne.analysis.feedback.ValueRepr">ValueRepr</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Parsed answer value.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Answer.hint">hint</span></code></td>
            <td>
                  <code><span title="tuple">tuple</span>[] | <span title="tuple">tuple</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the trace results from executing a demonstration (vs
running a policy with tracing enabled), then <code>hint</code> is
either <code>()</code> if the answer corresponds to the default answer
and <code>(l,)</code> if the answer is labeled with <code>l</code>. Otherwise, it
is <code>None</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Answer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An answer to a query.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id: Unique answer identifier.</span>
<span class="sd">        value: Parsed answer value.</span>
<span class="sd">        hint: If the trace results from executing a demonstration (vs</span>
<span class="sd">            running a policy with tracing enabled), then `hint` is</span>
<span class="sd">            either `()` if the answer corresponds to the default answer</span>
<span class="sd">            and `(l,)` if the answer is labeled with `l`. Otherwise, it</span>
<span class="sd">            is `None`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">TraceAnswerId</span>
    <span class="n">hint</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[()]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">ValueRepr</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.Reference" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Reference</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>A reference to a space or to a value.</p>
<p>Several human-readable representations are provided:</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Reference.with_ids">with_ids</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pretty-printed, id-based reference.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.Reference.with_hints">with_hints</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pretty-printed, hint-based reference. These are
typically available in the output of the demonstration
interpreter, but not when converting arbitrary traces that
result from running policies.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Reference</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A reference to a space or to a value.</span>

<span class="sd">    Several human-readable representations are provided:</span>

<span class="sd">    Attributes:</span>
<span class="sd">        with_ids: A pretty-printed, id-based reference.</span>
<span class="sd">        with_hints: A pretty-printed, hint-based reference. These are</span>
<span class="sd">            typically available in the output of the demonstration</span>
<span class="sd">            interpreter, but not when converting arbitrary traces that</span>
<span class="sd">            result from running policies.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">with_ids</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">with_hints</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.analysis.feedback.ValueRepr" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ValueRepr</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Multiple representations for a Python object.</p>
<p>We allow providing several representations for Python objects:
short, one-liner string descriptions, detailed descriptions, JSON
representation... All of these can be leveraged by different tools
and UI components.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.ValueRepr.short">short</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A short representation, typically obtained using the
<code>str</code> function.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.ValueRepr.long">long</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A longer, often multi-line representation, typically
obtained using the <code>pprint</code> module.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.ValueRepr.json">json</span></code></td>
            <td>
                  <code><span title="object">object</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A JSON representation of the object.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.feedback.ValueRepr.json_provided">json_provided</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether a JSON representation is provided (the
JSON field is <code>None</code> otherwise). This is not always the case
since not all Python objects can be serialized to JSON.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/feedback.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ValueRepr</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Multiple representations for a Python object.</span>

<span class="sd">    We allow providing several representations for Python objects:</span>
<span class="sd">    short, one-liner string descriptions, detailed descriptions, JSON</span>
<span class="sd">    representation... All of these can be leveraged by different tools</span>
<span class="sd">    and UI components.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        short: A short representation, typically obtained using the</span>
<span class="sd">            `str` function.</span>
<span class="sd">        long: A longer, often multi-line representation, typically</span>
<span class="sd">            obtained using the `pprint` module.</span>
<span class="sd">        json: A JSON representation of the object.</span>
<span class="sd">        json_provided: Whether a JSON representation is provided (the</span>
<span class="sd">            JSON field is `None` otherwise). This is not always the case</span>
<span class="sd">            since not all Python objects can be serialized to JSON.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">short</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">long</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">json_provided</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">json</span><span class="p">:</span> <span class="nb">object</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.TraceAnswerId" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">TraceAnswerId</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">TraceAnswerId</span><span class="p">:</span> <span class="n"><span title="int">int</span></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Global answer id, as set by <code>core.traces.Trace</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.TraceActionId" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">TraceActionId</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">TraceActionId</span><span class="p">:</span> <span class="n"><span title="int">int</span></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Index of an action within a given node.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="delphyne.analysis.feedback.TraceNodePropertyId" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">TraceNodePropertyId</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">TraceNodePropertyId</span><span class="p">:</span> <span class="n"><span title="int">int</span></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Index of a property within a given node. A property is an element
that can be listed in the UI, which is either an attached query, a
nested tree or some data.</p>

    </div>

</div><h2 id="demonstration-interpreter">Demonstration Interpreter</h2>


<div class="doc doc-object doc-function">


<h3 id="delphyne.analysis.demo_interpreter.evaluate_demo" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">evaluate_demo</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">evaluate_demo</span><span class="p">(</span>
    <span class="n">demo</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Demo (delphyne.core.demos.Demo)" href="../definitions/#delphyne.core.demos.Demo">Demo</a></span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="DemoExecutionContext


  
      dataclass
   (delphyne.analysis.demo_interpreter.DemoExecutionContext)" href="#delphyne.DemoExecutionContext">DemoExecutionContext</a></span><span class="p">,</span> <span class="n">extra_objects</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="object">object</span></span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="DemoFeedback (delphyne.analysis.feedback.DemoFeedback)" href="#delphyne.analysis.feedback.DemoFeedback">DemoFeedback</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Evaluate a query or strategy demonstration.</p>
<p>This is the main entrypoint of the demonstration interpreter.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.demo_interpreter.evaluate_demo.demo">demo</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The demonstration to evaluate.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.demo_interpreter.evaluate_demo.context">context</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The execution context in which to resolve Python
identifiers.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.analysis.demo_interpreter.evaluate_demo.extra_objects">extra_objects</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional objects that can be resolved by name
(with higher precedence).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="DemoFeedback (delphyne.analysis.feedback.DemoFeedback)" href="#delphyne.analysis.feedback.DemoFeedback">DemoFeedback</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A feedback object containing the results of the evaluation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function creates an <a class="autorefs autorefs-internal" title="ObjectLoader" href="#delphyne.ObjectLoader"><code>ObjectLoader</code></a> internally and is
therefore not thread-safe.</p>
</div>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/analysis/demo_interpreter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">evaluate_demo</span><span class="p">(</span>
    <span class="n">demo</span><span class="p">:</span> <span class="n">dm</span><span class="o">.</span><span class="n">Demo</span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">DemoExecutionContext</span><span class="p">,</span>
    <span class="n">extra_objects</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fb</span><span class="o">.</span><span class="n">DemoFeedback</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Evaluate a query or strategy demonstration.</span>

<span class="sd">    This is the main entrypoint of the demonstration interpreter.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        demo: The demonstration to evaluate.</span>
<span class="sd">        context: The execution context in which to resolve Python</span>
<span class="sd">            identifiers.</span>
<span class="sd">        extra_objects: Additional objects that can be resolved by name</span>
<span class="sd">            (with higher precedence).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A feedback object containing the results of the evaluation.</span>

<span class="sd">    !!! warning</span>
<span class="sd">        This function creates an `ObjectLoader` internally and is</span>
<span class="sd">        therefore not thread-safe.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">demo</span><span class="p">,</span> <span class="n">dm</span><span class="o">.</span><span class="n">StrategyDemo</span><span class="p">):</span>
        <span class="n">feedback</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">evaluate_strategy_demo_and_return_trace</span><span class="p">(</span>
            <span class="n">demo</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">extra_objects</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">feedback</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">evaluate_standalone_query_demo</span><span class="p">(</span><span class="n">demo</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">extra_objects</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.DemoExecutionContext" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">DemoExecutionContext</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">


        <p>Demonstration Execution Context.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.DemoExecutionContext.strategy_dirs">strategy_dirs</span></code></td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of directories in which strategy modules
can be found, to be added to <code>sys.path</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.DemoExecutionContext.modules">modules</span></code></td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of modules in which python object identifiers
should be resolved. Modules can be part of packages and so
their name may feature <code>.</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/demo_interpreter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">DemoExecutionContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Demonstration Execution Context.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        strategy_dirs: A list of directories in which strategy modules</span>
<span class="sd">            can be found, to be added to `sys.path`.</span>
<span class="sd">        modules: A list of modules in which python object identifiers</span>
<span class="sd">            should be resolved. Modules can be part of packages and so</span>
<span class="sd">            their name may feature `.`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">strategy_dirs</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span>
    <span class="n">modules</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">with_root</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DemoExecutionContext&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">DemoExecutionContext</span><span class="p">(</span>
            <span class="n">strategy_dirs</span><span class="o">=</span><span class="p">[</span><span class="n">root</span> <span class="o">/</span> <span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy_dirs</span><span class="p">],</span>
            <span class="n">modules</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="delphyne.ObjectLoader" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ObjectLoader</span>


</h3>


    <div class="doc doc-contents first">


        <p>Utility class for loading Python objects.</p>
<p>Demonstration and command files may refer to Python identifiers that
need to be resolved. This is done relative to an execution context
(<a class="autorefs autorefs-internal" title="DemoExecutionContext


  
      dataclass
  " href="#delphyne.DemoExecutionContext"><code>DemoExecutionContext</code></a>) that specifies a list of directories to be
added to <code>sys.path</code>, along with a list of modules.</p>
<p>An exception is raised if an object with the requested identifier
can be found in several modules.</p>








              <details class="quote">
                <summary>Source code in <code>src/delphyne/analysis/demo_interpreter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ObjectLoader</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility class for loading Python objects.</span>

<span class="sd">    Demonstration and command files may refer to Python identifiers that</span>
<span class="sd">    need to be resolved. This is done relative to an execution context</span>
<span class="sd">    (`DemoExecutionContext`) that specifies a list of directories to be</span>
<span class="sd">    added to `sys.path`, along with a list of modules.</span>

<span class="sd">    An exception is raised if an object with the requested identifier</span>
<span class="sd">    can be found in several modules.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">DemoExecutionContext</span><span class="p">,</span>
        <span class="n">extra_objects</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reload</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Attributes:</span>
<span class="sd">            ctx: The execution context in which to resolve Python</span>
<span class="sd">                identifiers.</span>
<span class="sd">            extra_objects: Additional objects that can be resolved by</span>
<span class="sd">                name (with higher precedence).</span>
<span class="sd">            reload: Whether to reload all modules specified in the</span>
<span class="sd">                execution context upon initialization. Setting this</span>
<span class="sd">                value to `True` makes `ObjectLoader` not thread-safe</span>
<span class="sd">                (also, multiple instances must not be used in an</span>
<span class="sd">                overlappaping way within a single thread).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ModuleNotFound: a module could not be found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_objects</span> <span class="o">=</span> <span class="n">extra_objects</span> <span class="k">if</span> <span class="n">extra_objects</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">with</span> <span class="n">_append_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ctx</span><span class="o">.</span><span class="n">strategy_dirs</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="n">ctx</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">module</span> <span class="o">=</span> <span class="nb">__import__</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">reload</span><span class="p">:</span>
                        <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">ModuleNotFound</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">find_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Find an object with a given name.</span>

<span class="sd">        If the name is unqualified (it features no `.`), one attempts to</span>
<span class="sd">        find the object in every registered module in order. If the name</span>
<span class="sd">        is qualified, one looks at the specified registered module.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ObjectNotFound: The object could not be found.</span>
<span class="sd">            AmbiguousObjectIdentifier: The object name is ambiguous,</span>
<span class="sd">                i.e. it is found in several modules.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_objects</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_objects</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="n">comps</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">comps</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">comps</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># unqualified name</span>
            <span class="n">cands</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">modules_with_id</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
                    <span class="n">obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
                    <span class="n">modules_with_id</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">obj</span><span class="p">)]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
                    <span class="n">cands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">modules_with_id</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">ambiguous</span> <span class="o">=</span> <span class="p">[</span><span class="n">ms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">ms</span> <span class="ow">in</span> <span class="n">modules_with_id</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
                <span class="k">raise</span> <span class="n">AmbiguousObjectIdentifier</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ambiguous</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cands</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">cands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># qualified name</span>
            <span class="n">module</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">comps</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">attr</span> <span class="o">=</span> <span class="n">comps</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">ObjectNotFound</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_and_call_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load and call a function by wrapping a call to `find_object`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_object</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">parse_function_args</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_strategy_instance</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dp</span><span class="o">.</span><span class="n">StrategyComp</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load and instantiate a strategy function with given arguments.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ObjectNotFound: If the strategy function cannot be found.</span>
<span class="sd">            AmbiguousObjectIdentifier: If an ambiguous name is given.</span>
<span class="sd">            StrategyLoadingError: If the object is not a strategy function</span>
<span class="sd">                or if the arguments are invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_object</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">parse_function_args</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
            <span class="n">comp</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">comp</span><span class="p">,</span> <span class="n">dp</span><span class="o">.</span><span class="n">StrategyComp</span><span class="p">),</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Object </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not a strategy function.&quot;</span>
                <span class="o">+</span> <span class="s2">&quot; Did you forget to use the @strategy decorator?&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Any</span><span class="p">,</span> <span class="n">comp</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StrategyLoadingError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_query</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dp</span><span class="o">.</span><span class="n">AbstractQuery</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a query by name and instantiate it with given arguments.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ObjectNotFound: if the query cannot be found.</span>
<span class="sd">            AmbiguousObjectIdentifier: if an ambiguous name is given.</span>
<span class="sd">            AssertionError: if the object is not a query.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_object</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">dp</span><span class="o">.</span><span class="n">AbstractQuery</span><span class="p">),</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Object </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not a query type.&quot;</span>
        <span class="p">)</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">type</span><span class="p">[</span><span class="n">dp</span><span class="o">.</span><span class="n">AbstractQuery</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">parse_instance</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="delphyne.ObjectLoader.__init__" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">__init__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__init__</span><span class="p">(</span>
    <span class="n">ctx</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="DemoExecutionContext


  
      dataclass
   (delphyne.analysis.demo_interpreter.DemoExecutionContext)" href="#delphyne.DemoExecutionContext">DemoExecutionContext</a></span><span class="p">,</span>
    <span class="n">extra_objects</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="object">object</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reload</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">



<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.ObjectLoader.__init__.ctx">ctx</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The execution context in which to resolve Python
identifiers.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.ObjectLoader.__init__.extra_objects">extra_objects</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional objects that can be resolved by
name (with higher precedence).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="delphyne.ObjectLoader.__init__.reload">reload</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to reload all modules specified in the
execution context upon initialization. Setting this
value to <code>True</code> makes <a class="autorefs autorefs-internal" title="ObjectLoader" href="#delphyne.ObjectLoader"><code>ObjectLoader</code></a> not thread-safe
(also, multiple instances must not be used in an
overlappaping way within a single thread).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="delphyne.analysis.demo_interpreter.ModuleNotFound">ModuleNotFound</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a module could not be found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/analysis/demo_interpreter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">ctx</span><span class="p">:</span> <span class="n">DemoExecutionContext</span><span class="p">,</span>
    <span class="n">extra_objects</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reload</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Attributes:</span>
<span class="sd">        ctx: The execution context in which to resolve Python</span>
<span class="sd">            identifiers.</span>
<span class="sd">        extra_objects: Additional objects that can be resolved by</span>
<span class="sd">            name (with higher precedence).</span>
<span class="sd">        reload: Whether to reload all modules specified in the</span>
<span class="sd">            execution context upon initialization. Setting this</span>
<span class="sd">            value to `True` makes `ObjectLoader` not thread-safe</span>
<span class="sd">            (also, multiple instances must not be used in an</span>
<span class="sd">            overlappaping way within a single thread).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ModuleNotFound: a module could not be found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_objects</span> <span class="o">=</span> <span class="n">extra_objects</span> <span class="k">if</span> <span class="n">extra_objects</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">with</span> <span class="n">_append_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ctx</span><span class="o">.</span><span class="n">strategy_dirs</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="n">ctx</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">module</span> <span class="o">=</span> <span class="nb">__import__</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">reload</span><span class="p">:</span>
                    <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ModuleNotFound</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="delphyne.ObjectLoader.find_object" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">find_object</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">find_object</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Find an object with a given name.</p>
<p>If the name is unqualified (it features no <code>.</code>), one attempts to
find the object in every registered module in order. If the name
is qualified, one looks at the specified registered module.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="delphyne.analysis.demo_interpreter.ObjectNotFound">ObjectNotFound</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object could not be found.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="delphyne.analysis.demo_interpreter.AmbiguousObjectIdentifier">AmbiguousObjectIdentifier</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object name is ambiguous,
i.e. it is found in several modules.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/analysis/demo_interpreter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Find an object with a given name.</span>

<span class="sd">    If the name is unqualified (it features no `.`), one attempts to</span>
<span class="sd">    find the object in every registered module in order. If the name</span>
<span class="sd">    is qualified, one looks at the specified registered module.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ObjectNotFound: The object could not be found.</span>
<span class="sd">        AmbiguousObjectIdentifier: The object name is ambiguous,</span>
<span class="sd">            i.e. it is found in several modules.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_objects</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_objects</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="n">comps</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">comps</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">comps</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># unqualified name</span>
        <span class="n">cands</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">modules_with_id</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
                <span class="n">obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
                <span class="n">modules_with_id</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">obj</span><span class="p">)]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
                <span class="n">cands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">modules_with_id</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">ambiguous</span> <span class="o">=</span> <span class="p">[</span><span class="n">ms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">ms</span> <span class="ow">in</span> <span class="n">modules_with_id</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
            <span class="k">raise</span> <span class="n">AmbiguousObjectIdentifier</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ambiguous</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cands</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">cands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># qualified name</span>
        <span class="n">module</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">comps</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">attr</span> <span class="o">=</span> <span class="n">comps</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">ObjectNotFound</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="delphyne.ObjectLoader.load_and_call_function" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_and_call_function</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load_and_call_function</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load and call a function by wrapping a call to <code>find_object</code>.</p>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/analysis/demo_interpreter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_and_call_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and call a function by wrapping a call to `find_object`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_object</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">parse_function_args</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="delphyne.ObjectLoader.load_strategy_instance" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_strategy_instance</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load_strategy_instance</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="StrategyComp


  
      dataclass
   (delphyne.core.StrategyComp)" href="../../strategies/strategies/#delphyne.StrategyComp">StrategyComp</a></span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load and instantiate a strategy function with given arguments.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="delphyne.analysis.demo_interpreter.ObjectNotFound">ObjectNotFound</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the strategy function cannot be found.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="delphyne.analysis.demo_interpreter.AmbiguousObjectIdentifier">AmbiguousObjectIdentifier</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If an ambiguous name is given.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="delphyne.analysis.demo_interpreter.StrategyLoadingError">StrategyLoadingError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the object is not a strategy function
or if the arguments are invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/analysis/demo_interpreter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_strategy_instance</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dp</span><span class="o">.</span><span class="n">StrategyComp</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load and instantiate a strategy function with given arguments.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ObjectNotFound: If the strategy function cannot be found.</span>
<span class="sd">        AmbiguousObjectIdentifier: If an ambiguous name is given.</span>
<span class="sd">        StrategyLoadingError: If the object is not a strategy function</span>
<span class="sd">            or if the arguments are invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_object</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">parse_function_args</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="n">comp</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">comp</span><span class="p">,</span> <span class="n">dp</span><span class="o">.</span><span class="n">StrategyComp</span><span class="p">),</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Object </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not a strategy function.&quot;</span>
            <span class="o">+</span> <span class="s2">&quot; Did you forget to use the @strategy decorator?&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Any</span><span class="p">,</span> <span class="n">comp</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">StrategyLoadingError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="delphyne.ObjectLoader.load_query" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_query</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load_query</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="AbstractQuery (delphyne.core.AbstractQuery)" href="../../strategies/queries/#delphyne.AbstractQuery">AbstractQuery</a></span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load a query by name and instantiate it with given arguments.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="delphyne.analysis.demo_interpreter.ObjectNotFound">ObjectNotFound</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the query cannot be found.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="delphyne.analysis.demo_interpreter.AmbiguousObjectIdentifier">AmbiguousObjectIdentifier</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if an ambiguous name is given.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="AssertionError">AssertionError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the object is not a query.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/delphyne/analysis/demo_interpreter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_query</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dp</span><span class="o">.</span><span class="n">AbstractQuery</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load a query by name and instantiate it with given arguments.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ObjectNotFound: if the query cannot be found.</span>
<span class="sd">        AmbiguousObjectIdentifier: if an ambiguous name is given.</span>
<span class="sd">        AssertionError: if the object is not a query.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_object</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">dp</span><span class="o">.</span><span class="n">AbstractQuery</span><span class="p">),</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Object </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not a query type.&quot;</span>
    <span class="p">)</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">type</span><span class="p">[</span><span class="n">dp</span><span class="o">.</span><span class="n">AbstractQuery</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">parse_instance</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../../javascript/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>